language: node_js

node_js:
  - "6.11.4"
  
addons:
    apt:
        packages:
            - sshpass

before_script:
  - npm install -g @angular/cli@1.4.5
  - npm install
  
script:
  - ng build --environment qa
  
after_success:
    - tar -cf frontwebhatcc.tgz dist
    - export SSHPASS=$DEPLOY_PASS
    - sshpass -e scp -o StrictHostKeyChecking=no frontwebhatcc.tgz $DEPLOY_USER@$DEPLOY_HOST:$DEPLOY_PATH/$TRAVIS_BRANCH/deploy/frontwebhatcc
